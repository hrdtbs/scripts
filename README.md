# scripts

GitHubçµ„ç¹”ã®ç®¡ç†ã‚„åˆ†æã‚’è¡Œã†Denoã‚¹ã‚¯ãƒªãƒ—ãƒˆé›†ã§ã™ã€‚

## ğŸ“š ç›®æ¬¡

- [list-repos-in-org](#list-repos-in-org) - çµ„ç¹”ã®ãƒªãƒã‚¸ãƒˆãƒªä¸€è¦§å–å¾—
- [list-dependabot-alerts](#list-dependabot-alerts) - Dependabotã‚¢ãƒ©ãƒ¼ãƒˆåé›†ãƒ»åˆ†æ
- [create-issue](#create-issue) - Issueä½œæˆ
- [bulk-create-issues](#bulk-create-issues) - è¤‡æ•°ãƒªãƒã‚¸ãƒˆãƒªã¸ã®Issueä¸€æ‹¬ä½œæˆ
- [list-renovate-status](#list-renovate-status) - Renovateç¨¼åƒçŠ¶æ³ç¢ºèª
- [search-actions-in-org](#search-actions-in-org) - GitHub Actionsä½¿ç”¨çŠ¶æ³åˆ†æ
- [bulk-add-labels](#bulk-add-labels) - ãƒ©ãƒ™ãƒ«ä¸€æ‹¬è¿½åŠ 
- [list-open-prs](#list-open-prs) - ã‚ªãƒ¼ãƒ—ãƒ³PRä¸€è¦§å–å¾—
- [search-files-in-org](#search-files-in-org) - çµ„ç¹”å†…ãƒ•ã‚¡ã‚¤ãƒ«æ–‡å­—åˆ—æ¤œç´¢
- [TUI](#tui) - ãƒ†ã‚­ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- [ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#-ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—) - ç’°å¢ƒæ§‹ç¯‰ãƒ»å®Ÿè¡Œæ–¹æ³•
- [ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ](#-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ) - ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

---

## list-repos-in-org

çµ„ç¹”ã®ãƒªãƒã‚¸ãƒˆãƒªä¸€è¦§ã‚’å–å¾—ã—ã€JSONãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚

```bash
deno task start src/list-repos-in-org/index.ts --org=org-name [--output=å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª]
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

- `--org`: ï¼ˆå¿…é ˆï¼‰GitHubã®çµ„ç¹”å
- `--output`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `.output`ï¼‰

#### å‡ºåŠ›

æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `{çµ„ç¹”å}-repos.json` ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚
ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ä»¥ä¸‹ã®æƒ…å ±ãŒå«ã¾ã‚Œã¾ã™ï¼š

```json
{
  "organization": "çµ„ç¹”å",
  "timestamp": "ç”Ÿæˆæ—¥æ™‚",
  "repositories": [
    {
      "name": "ãƒªãƒã‚¸ãƒˆãƒªå",
      "fullName": "çµ„ç¹”å/ãƒªãƒã‚¸ãƒˆãƒªå",
      "url": "ãƒªãƒã‚¸ãƒˆãƒªã®URL",
      "description": "ãƒªãƒã‚¸ãƒˆãƒªã®èª¬æ˜",
      "isPrivate": true/false,
      "createdAt": "ä½œæˆæ—¥æ™‚",
      "updatedAt": "æ›´æ–°æ—¥æ™‚",
      "language": "ä¸»è¦ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª"
    }
  ]
}
```

## list-dependabot-alerts

çµ„ç¹”å†…ã®å…¨ãƒªãƒã‚¸ãƒˆãƒªã®Dependabotã‚¢ãƒ©ãƒ¼ãƒˆã‚’å–å¾—ã—ã€JSONãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚

```bash
deno task start src/list-dependabot-alerts/index.ts --org=org-name [--output=å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª] [--state=ã‚¢ãƒ©ãƒ¼ãƒˆã®çŠ¶æ…‹] [--format=å‡ºåŠ›å½¢å¼] [--repos=REPO1,REPO2,...]
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

- `--org`: ï¼ˆå¿…é ˆï¼‰GitHubã®çµ„ç¹”å
- `--output`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `.output`ï¼‰
- `--state`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ã‚¢ãƒ©ãƒ¼ãƒˆã®çŠ¶æ…‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `open`ï¼‰
  - `open`: æœªè§£æ±ºã®ã‚¢ãƒ©ãƒ¼ãƒˆ
  - `closed`: è§£æ±ºæ¸ˆã¿ã®ã‚¢ãƒ©ãƒ¼ãƒˆ
  - `dismissed`: å´ä¸‹ã•ã‚ŒãŸã‚¢ãƒ©ãƒ¼ãƒˆ
  - `fixed`: ä¿®æ­£æ¸ˆã¿ã®ã‚¢ãƒ©ãƒ¼ãƒˆ
- `--format`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰å‡ºåŠ›å½¢å¼ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `json`ï¼‰
  - `json`: JSONå½¢å¼ã§å‡ºåŠ›
  - `csv`: CSVå½¢å¼ã§å‡ºåŠ›
- `--repos`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰å¯¾è±¡ãƒªãƒã‚¸ãƒˆãƒªåï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã€æœªæŒ‡å®šã®å ´åˆã¯å…¨ãƒªãƒã‚¸ãƒˆãƒªï¼‰

#### å¿…è¦ãªæ¨©é™

GitHubãƒˆãƒ¼ã‚¯ãƒ³ã«ã¯ä»¥ä¸‹ã®æ¨©é™ãŒå¿…è¦ã§ã™ï¼š
- `repo`: ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹
- `security_events`: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆã®èª­ã¿å–ã‚Š

#### å‡ºåŠ›

æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»¥ä¸‹ã®2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ï¼š

1. `{çµ„ç¹”å}-dependabot-alerts.{json|csv}`: ã‚¢ãƒ©ãƒ¼ãƒˆæƒ…å ±
   - `--format=json`ã®å ´åˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰:
   ```json
   [
     {
       "organization": "çµ„ç¹”å",
       "timestamp": "ç”Ÿæˆæ—¥æ™‚",
       "state": "ã‚¢ãƒ©ãƒ¼ãƒˆã®çŠ¶æ…‹",
       "repository": "ãƒªãƒã‚¸ãƒˆãƒªå",
       "number": "ã‚¢ãƒ©ãƒ¼ãƒˆç•ªå·",
       "alert_id": "ã‚¢ãƒ©ãƒ¼ãƒˆID",
       "dependency": {
         "package": {
           "ecosystem": "ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ",
           "name": "ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å"
         },
         "manifest_path": "ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹",
         "scope": "ä¾å­˜é–¢ä¿‚ã®ã‚¹ã‚³ãƒ¼ãƒ—",
         "relationship": "ä¾å­˜é–¢ä¿‚ã®ç¨®é¡"
       },
       "severity": "æ·±åˆ»åº¦ï¼ˆcritical/high/medium/lowï¼‰",
       "summary": "æ¦‚è¦",
       "description": "è©³ç´°ãªèª¬æ˜",
       "vulnerableVersionRange": "è„†å¼±æ€§ã®ã‚ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¯„å›²",
       "firstPatchedVersion": "æœ€åˆã®ä¿®æ­£ãƒãƒ¼ã‚¸ãƒ§ãƒ³",
       "createdAt": "ä½œæˆæ—¥æ™‚",
       "updatedAt": "æ›´æ–°æ—¥æ™‚"
     }
   ]
   ```

   - `--format=csv`ã®å ´åˆ:
   ```csv
   organization,timestamp,state,repository,number,alert_id,package_ecosystem,package_name,manifest_path,scope,relationship,severity,summary,vulnerable_version_range,first_patched_version,created_at,updated_at
   çµ„ç¹”å,ç”Ÿæˆæ—¥æ™‚,ã‚¢ãƒ©ãƒ¼ãƒˆã®çŠ¶æ…‹,ãƒªãƒã‚¸ãƒˆãƒªå,ã‚¢ãƒ©ãƒ¼ãƒˆç•ªå·,ã‚¢ãƒ©ãƒ¼ãƒˆID,ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ,ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å,ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹,ä¾å­˜é–¢ä¿‚ã®ã‚¹ã‚³ãƒ¼ãƒ—,ä¾å­˜é–¢ä¿‚ã®ç¨®é¡,æ·±åˆ»åº¦,æ¦‚è¦,è„†å¼±æ€§ã®ã‚ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¯„å›²,æœ€åˆã®ä¿®æ­£ãƒãƒ¼ã‚¸ãƒ§ãƒ³,ä½œæˆæ—¥æ™‚,æ›´æ–°æ—¥æ™‚
   ```

2. `{çµ„ç¹”å}-dependabot-errors.json`: ã‚¨ãƒ©ãƒ¼æƒ…å ±
```json
{
  "organization": "çµ„ç¹”å",
  "timestamp": "ç”Ÿæˆæ—¥æ™‚",
  "summary": {
    "totalErrors": "ã‚¨ãƒ©ãƒ¼ã®ç·æ•°",
    "dependabotDisabled": "DependabotãŒç„¡åŠ¹ãªãƒªãƒã‚¸ãƒˆãƒªæ•°",
    "noAccess": "ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒãªã„ãƒªãƒã‚¸ãƒˆãƒªæ•°",
    "otherErrors": "ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼æ•°"
  },
  "errors": {
    "dependabotDisabled": [
      {
        "repository": "ãƒªãƒã‚¸ãƒˆãƒªå",
        "reason": "ã‚¨ãƒ©ãƒ¼ã®ç†ç”±",
        "settingsUrl": "è¨­å®šãƒšãƒ¼ã‚¸ã®URL"
      }
    ],
    "noAccess": [
      {
        "repository": "ãƒªãƒã‚¸ãƒˆãƒªå",
        "reason": "ã‚¨ãƒ©ãƒ¼ã®ç†ç”±"
      }
    ],
    "otherErrors": [
      {
        "repository": "ãƒªãƒã‚¸ãƒˆãƒªå",
        "reason": "ã‚¨ãƒ©ãƒ¼ã®ç†ç”±"
      }
    ]
  }
}
```

ã¾ãŸã€å®Ÿè¡Œçµæœã®ã‚µãƒãƒªãƒ¼ãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã•ã‚Œã¾ã™ï¼š
```
ğŸ“Š ã‚µãƒãƒªãƒ¼:
- æ¤œæŸ»ã—ãŸãƒªãƒã‚¸ãƒˆãƒªæ•°: ç·æ•°
  - ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½: æˆåŠŸæ•°
    - ã‚¢ãƒ©ãƒ¼ãƒˆã‚ã‚Š: ã‚¢ãƒ©ãƒ¼ãƒˆãŒã‚ã‚‹ãƒªãƒã‚¸ãƒˆãƒªæ•°
    - ç·ã‚¢ãƒ©ãƒ¼ãƒˆæ•°: ã‚¢ãƒ©ãƒ¼ãƒˆã®ç·æ•°
      - Critical: é‡å¤§åº¦ã®ã‚¢ãƒ©ãƒ¼ãƒˆæ•°
      - High: é«˜é‡è¦åº¦ã®ã‚¢ãƒ©ãƒ¼ãƒˆæ•°
      - Medium: ä¸­é‡è¦åº¦ã®ã‚¢ãƒ©ãƒ¼ãƒˆæ•°
      - Low: ä½é‡è¦åº¦ã®ã‚¢ãƒ©ãƒ¼ãƒˆæ•°
  - ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯: ã‚¨ãƒ©ãƒ¼æ•°
    - Dependabotç„¡åŠ¹: DependabotãŒç„¡åŠ¹ãªãƒªãƒã‚¸ãƒˆãƒªæ•°
    - ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—: ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒãªã„ãƒªãƒã‚¸ãƒˆãƒªæ•°
    - ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼: ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼æ•°
```

## create-issue

```bash
deno run --allow-env --allow-net src/create-issue.ts --repo=repo-name
```

## bulk-create-issues

æŒ‡å®šã•ã‚ŒãŸè¤‡æ•°ã®ãƒªãƒã‚¸ãƒˆãƒªã«åŒã˜ã‚¿ã‚¤ãƒˆãƒ«ã€ãƒœãƒ‡ã‚£ã€é–¢é€£Issueã‚’æŒã¤Issueã‚’ä¸€æ‹¬ä½œæˆã—ã¾ã™ã€‚

```bash
deno task start src/bulk-create-issues/index.ts --org=org-name --repos=repo1,repo2,repo3 --title="Issue Title" --body="Issue Body" [--parent-issue=è¦ªIssue] [--labels=label1,label2] [--assignees=user1,user2] [--output=å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª] [--format=å‡ºåŠ›å½¢å¼]
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

- `--org`: ï¼ˆå¿…é ˆï¼‰GitHubã®çµ„ç¹”å
- `--repos`: ï¼ˆå¿…é ˆï¼‰å¯¾è±¡ãƒªãƒã‚¸ãƒˆãƒªåï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
- `--title`: ï¼ˆå¿…é ˆï¼‰ä½œæˆã™ã‚‹Issueã®ã‚¿ã‚¤ãƒˆãƒ«
- `--body`: ï¼ˆå¿…é ˆï¼‰ä½œæˆã™ã‚‹Issueã®æœ¬æ–‡
- `--parent-issue`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰é–¢é€£ã™ã‚‹è¦ªIssueï¼ˆURLã¾ãŸã¯`org/repo#123`å½¢å¼ï¼‰
- `--labels`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰è¿½åŠ ã™ã‚‹ãƒ©ãƒ™ãƒ«ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
- `--assignees`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ã‚¢ã‚µã‚¤ãƒ³ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
- `--output`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `.output`ï¼‰
- `--format`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰å‡ºåŠ›å½¢å¼ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `json`ï¼‰
  - `json`: JSONå½¢å¼ã§å‡ºåŠ›
  - `csv`: CSVå½¢å¼ã§å‡ºåŠ›

#### å¿…è¦ãªæ¨©é™

GitHubãƒˆãƒ¼ã‚¯ãƒ³ã«ã¯ä»¥ä¸‹ã®æ¨©é™ãŒå¿…è¦ã§ã™ï¼š
- `repo`: ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹

#### ä½¿ç”¨ä¾‹

```bash
# åŸºæœ¬çš„ãªä½¿ç”¨ä¾‹
deno task start src/bulk-create-issues/index.ts \
  --org=matsuri-tech \
  --repos=repo1,repo2,repo3 \
  --title="ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå¯¾å¿œ" \
  --body="ä¾å­˜é–¢ä¿‚ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚"

# é–¢é€£Issueã¨ãƒ©ãƒ™ãƒ«ã‚’æŒ‡å®š
deno task start src/bulk-create-issues/index.ts \
  --org=matsuri-tech \
  --repos=frontend,backend,mobile \
  --title="API v2ç§»è¡Œå¯¾å¿œ" \
  --body="APIã‚’v2ã«ç§»è¡Œã™ã‚‹ä½œæ¥­ã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚è©³ç´°ã¯é–¢é€£Issueã‚’å‚ç…§ã€‚" \
  --parent-issue="matsuri-tech/planning#123" \
  --labels="migration,api,high-priority"

# ã‚¢ã‚µã‚¤ãƒ‹ãƒ¼ã‚’æŒ‡å®šã—ã¦CSVå‡ºåŠ›
deno task start src/bulk-create-issues/index.ts \
  --org=matsuri-tech \
  --repos=web-app,api-server \
  --title="TypeScript 5.0å¯¾å¿œ" \
  --body="TypeScript 5.0ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚" \
  --assignees="dev-team-lead,senior-dev" \
  --format=csv
```

#### å‡ºåŠ›

æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `{çµ„ç¹”å}-issue-creation-results.{json|csv}` ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

- JSONå½¢å¼ã®å ´åˆ:
```json
{
  "organization": "çµ„ç¹”å",
  "repositories": ["repo1", "repo2", "repo3"],
  "title": "Issueã‚¿ã‚¤ãƒˆãƒ«",
  "timestamp": "ç”Ÿæˆæ—¥æ™‚",
  "summary": {
    "totalRepositories": 3,
    "successfulCreations": 2,
    "failedCreations": 1
  },
  "results": [
    {
      "repository": "repo1",
      "success": true,
      "issueNumber": 123,
      "issueUrl": "https://github.com/org/repo1/issues/123"
    },
    {
      "repository": "repo2",
      "success": true,
      "issueNumber": 456,
      "issueUrl": "https://github.com/org/repo2/issues/456"
    },
    {
      "repository": "repo3",
      "success": false,
      "error": "Repository not found"
    }
  ],
  "errors": [
    {
      "repository": "repo3",
      "error": "Repository not found"
    }
  ]
}
```

- CSVå½¢å¼ã®å ´åˆ:
```csv
repository,success,issueNumber,issueUrl,error
repo1,true,123,"https://github.com/org/repo1/issues/123",""
repo2,true,456,"https://github.com/org/repo2/issues/456",""
repo3,false,"","","Repository not found"
```

#### æ©Ÿèƒ½

- **ä¸€æ‹¬ä½œæˆ**: è¤‡æ•°ãƒªãƒã‚¸ãƒˆãƒªã«åŒæ™‚ã«Issueã‚’ä½œæˆ
- **é–¢é€£Issue**: è¦ªIssueã‚„é–¢é€£Issueã¸ã®è‡ªå‹•ãƒªãƒ³ã‚¯æŒ¿å…¥
- **æŸ”è»Ÿãªè¨­å®š**: ãƒ©ãƒ™ãƒ«ã€ã‚¢ã‚µã‚¤ãƒ‹ãƒ¼ã®ä¸€æ‹¬è¨­å®š
- **è©³ç´°ãªçµæœ**: æˆåŠŸãƒ»å¤±æ•—ã®è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å€‹åˆ¥ã®ã‚¨ãƒ©ãƒ¼ã‚’é©åˆ‡ã«å‡¦ç†ã—ã€ç¶™ç¶šå®Ÿè¡Œ
- **Rate limitå¯¾ç­–**: APIåˆ¶é™ã«é…æ…®ã—ãŸå®Ÿè¡Œé–“éš”åˆ¶å¾¡

ã¾ãŸã€å®Ÿè¡Œçµæœã®ã‚µãƒãƒªãƒ¼ãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã•ã‚Œã¾ã™ï¼š
```
ğŸ“Š Issueä½œæˆçµæœã‚µãƒãƒªãƒ¼:
- çµ„ç¹”: matsuri-tech
- å¯¾è±¡ãƒªãƒã‚¸ãƒˆãƒªæ•°: 3
- æˆåŠŸ: 2 ä»¶
- å¤±æ•—: 1 ä»¶
- å‡ºåŠ›å½¢å¼: json
- å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«: .output/matsuri-tech-issue-creation-results.json

âœ… æˆåŠŸã—ãŸãƒªãƒã‚¸ãƒˆãƒª:
  ğŸ“ repo1: Issue #123
      https://github.com/matsuri-tech/repo1/issues/123
  ğŸ“ repo2: Issue #456
      https://github.com/matsuri-tech/repo2/issues/456

âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸãƒªãƒã‚¸ãƒˆãƒª:
  ğŸ“ repo3: Repository not found
```

## list-renovate-status

çµ„ç¹”å†…ã®ãƒªãƒã‚¸ãƒˆãƒªã®Renovateã®æœ‰åŠ¹åŒ–çŠ¶æ³ã‚’ç¢ºèªã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚å„ãƒªãƒã‚¸ãƒˆãƒªã®Dependency Dashboardã‚’è§£æã—ã€ä¾å­˜é–¢ä¿‚ã®æ›´æ–°çŠ¶æ³ã‚’ã‚°ãƒ«ãƒ¼ãƒ—ã”ã¨ã«é›†è¨ˆã—ã¾ã™ã€‚

```bash
deno task start src/list-renovate-status/index.ts --org=çµ„ç¹”å [--output=å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª]
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

- `--org`: å¿…é ˆã€‚å¯¾è±¡ã®çµ„ç¹”å
- `--output`: ä»»æ„ã€‚å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `.output`ï¼‰

#### å‡ºåŠ›å½¢å¼

`${org}-renovate-status.json`ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®å½¢å¼ã§å‡ºåŠ›ã•ã‚Œã¾ã™ï¼š

```json
{
  "organization": "çµ„ç¹”å",
  "timestamp": "2024-03-11T12:34:56.789Z",
  "summary": {
    "totalRepositories": 10,
    "enabledRepositories": 5,
    "disabledRepositories": 5,
    "totalManagedDependencies": 100
  },
  "repositories": {
    "enabled": [
      {
        "name": "repo-name",
        "dependencyCount": 20,
        "dashboardUrl": "https://github.com/org/repo/issues/1",
        "dependencyGroups": [
          {
            "title": "Rate-Limited",
            "count": 10,
            "dependencies": [
              "@types/node",
              "cloud.google.com/go/videointelligence",
              // ...
            ]
          },
          {
            "title": "Open",
            "count": 5,
            "dependencies": [
              "github.com/arran4/golang-ical",
              // ...
            ]
          },
          {
            "title": "Ignored or Blocked",
            "count": 5,
            "dependencies": [
              "github.com/matsuri-tech/date-go/v2",
              // ...
            ]
          }
        ]
      }
    ],
    "disabled": [
      {
        "name": "repo-name"
      }
    ]
  }
}
```

ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ã§ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªå½¢å¼ã§ã‚µãƒãƒªãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š

```
ğŸ“Š ã‚µãƒãƒªãƒ¼:
- æ¤œæŸ»ã—ãŸãƒªãƒã‚¸ãƒˆãƒªæ•°: 10
  - Renovateæœ‰åŠ¹: 5
    - ç®¡ç†å¯¾è±¡ã®ä¾å­˜é–¢ä¿‚æ•°: 100
    - Rate-Limited: 50
    - Open: 30
    - Ignored or Blocked: 20
  - Renovateç„¡åŠ¹: 5
```

## search-actions-in-org

çµ„ç¹”å†…ã®å…¨ãƒªãƒã‚¸ãƒˆãƒªã®GitHub Actionsä½¿ç”¨çŠ¶æ³ã‚’åˆ†æã—ã€ç‰¹å®šã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ç›´æ¥çš„ãƒ»é–“æ¥çš„ãªä½¿ç”¨çŠ¶æ³ã‚’JSONãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚

```bash
deno task start src/search-actions-in-org/index.ts --org=org-name --action=action-name [--output=å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª]
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

- `--org`: ï¼ˆå¿…é ˆï¼‰GitHubã®çµ„ç¹”å
- `--action`: ï¼ˆå¿…é ˆï¼‰æ¤œç´¢å¯¾è±¡ã®GitHub Actionï¼ˆä¾‹: `actions/checkout`ï¼‰
- `--output`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `.output`ï¼‰

#### å¿…è¦ãªæ¨©é™

GitHubãƒˆãƒ¼ã‚¯ãƒ³ã«ã¯ä»¥ä¸‹ã®æ¨©é™ãŒå¿…è¦ã§ã™ï¼š
- `repo`: ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™

#### å‡ºåŠ›

æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `{çµ„ç¹”å}-action-usage.json` ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚
ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ä»¥ä¸‹ã®æƒ…å ±ãŒå«ã¾ã‚Œã¾ã™ï¼š

```json
{
  "organization": "çµ„ç¹”å",
  "timestamp": "ç”Ÿæˆæ—¥æ™‚",
  "targetAction": "æ¤œç´¢å¯¾è±¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³",
  "summary": {
    "totalRepositories": "ã‚¹ã‚­ãƒ£ãƒ³ã—ãŸãƒªãƒã‚¸ãƒˆãƒªã®ç·æ•°",
    "repositoriesScanned": "ã‚¹ã‚­ãƒ£ãƒ³ã«æˆåŠŸã—ãŸãƒªãƒã‚¸ãƒˆãƒªæ•°",
    "repositoriesWithDirectUsage": "ç›´æ¥ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒªãƒã‚¸ãƒˆãƒªæ•°",
    "repositoriesWithIndirectUsage": "é–“æ¥çš„ã«ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒªãƒã‚¸ãƒˆãƒªæ•°",
    "totalDirectUsages": "ç›´æ¥ä½¿ç”¨ã®ç·æ•°",
    "totalIndirectUsages": "é–“æ¥çš„ãªä½¿ç”¨ã®ç·æ•°"
  },
  "directUsages": [
    {
      "repo": "ãƒªãƒã‚¸ãƒˆãƒªå",
      "workflow": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹"
    }
  ],
  "indirectUsages": {
    "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å": [
      {
        "repo": "ãƒªãƒã‚¸ãƒˆãƒªå",
        "workflow": "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹"
      }
    ]
  },
  "errors": {
    "accessErrors": ["ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸãƒªãƒã‚¸ãƒˆãƒª"],
    "scanErrors": ["ã‚¹ã‚­ãƒ£ãƒ³ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸãƒªãƒã‚¸ãƒˆãƒª"]
  }
}
```

ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ã§ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªå½¢å¼ã§ã‚µãƒãƒªãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š

```
ğŸ“Š ã‚µãƒãƒªãƒ¼:
- ç›´æ¥ä½¿ç”¨:
  - ãƒªãƒã‚¸ãƒˆãƒªæ•°: 10
  - ä½¿ç”¨å›æ•°: 15
- é–“æ¥çš„ãªä½¿ç”¨:
  - ãƒªãƒã‚¸ãƒˆãƒªæ•°: 5
  - ä½¿ç”¨å›æ•°: 8
  - ä½¿ç”¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ•°: 3
```

## bulk-add-labels

çµ„ç¹”å†…ã®å…¨ãƒªãƒã‚¸ãƒˆãƒªã«æŒ‡å®šã•ã‚ŒãŸãƒ©ãƒ™ãƒ«ã‚’è¿½åŠ ã—ã¾ã™ã€‚ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã•ã‚ŒãŸãƒªãƒã‚¸ãƒˆãƒªã¯ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã™ã€‚

```bash
deno task start src/bulk-add-labels/index.ts --org=ORGANIZATION --labels=LABEL1,LABEL2,... [--colors=COLOR1,COLOR2,...] [--repos=REPO1,REPO2,...]
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

- `--org`: ï¼ˆå¿…é ˆï¼‰GitHubã®çµ„ç¹”å
- `--labels`: ï¼ˆå¿…é ˆï¼‰è¿½åŠ ã™ã‚‹ãƒ©ãƒ™ãƒ«ã®åå‰ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
- `--colors`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ãƒ©ãƒ™ãƒ«ã®è‰²ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã€6æ¡ã®16é€²æ•°ï¼‰
- `--repos`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰å¯¾è±¡ãƒªãƒã‚¸ãƒˆãƒªåï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã€æœªæŒ‡å®šã®å ´åˆã¯å…¨ãƒªãƒã‚¸ãƒˆãƒªï¼‰

#### å¿…è¦ãªæ¨©é™

GitHubãƒˆãƒ¼ã‚¯ãƒ³ã«ã¯ä»¥ä¸‹ã®æ¨©é™ãŒå¿…è¦ã§ã™ï¼š
- `repo`: ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹

#### ç’°å¢ƒå¤‰æ•°

`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š

```bash
GH_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

#### ä¾‹

```bash
# å…¨ãƒªãƒã‚¸ãƒˆãƒªã«ãƒ©ãƒ™ãƒ«ã‚’è¿½åŠ ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®é»’è‰²ã‚’ä½¿ç”¨ï¼‰
deno task start src/bulk-add-labels/index.ts --org=matsuri-tech --labels=bug,enhancement

# æŒ‡å®šãƒªãƒã‚¸ãƒˆãƒªã«ãƒ©ãƒ™ãƒ«ã¨è‰²ã‚’æŒ‡å®šã—ã¦è¿½åŠ 
deno task start src/bulk-add-labels/index.ts --org=matsuri-tech --labels=bug,enhancement --colors=FF0000,00FF00 --repos=frontend,backend

# å…¨ãƒªãƒã‚¸ãƒˆãƒªã«ãƒ©ãƒ™ãƒ«ã¨è‰²ã‚’æŒ‡å®šã—ã¦è¿½åŠ 
deno task start src/bulk-add-labels/index.ts --org=matsuri-tech --labels=bug,enhancement --colors=FF0000,00FF00
```

#### æ³¨æ„äº‹é …

- æ—¢ã«å­˜åœ¨ã™ã‚‹ãƒ©ãƒ™ãƒ«ã¯ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã™
- è‰²ãŒæŒ‡å®šã•ã‚Œã¦ã„ãªã„ãƒ©ãƒ™ãƒ«ã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®é»’è‰²ï¼ˆ`000000`ï¼‰ãŒä½¿ç”¨ã•ã‚Œã¾ã™
- è‰²ã®æ•°ãŒãƒ©ãƒ™ãƒ«ã®æ•°ã‚ˆã‚Šå°‘ãªã„å ´åˆã¯ã€æ®‹ã‚Šã®ãƒ©ãƒ™ãƒ«ã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®é»’è‰²ãŒä½¿ç”¨ã•ã‚Œã¾ã™
- `--repos`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãªã„å ´åˆã¯ã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã•ã‚Œã¦ã„ãªã„å…¨ãƒªãƒã‚¸ãƒˆãƒªãŒå¯¾è±¡ã«ãªã‚Šã¾ã™
- æŒ‡å®šã•ã‚ŒãŸãƒªãƒã‚¸ãƒˆãƒªãŒçµ„ç¹”å†…ã«å­˜åœ¨ã—ãªã„å ´åˆã¯è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã€ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã™

## list-open-prs

çµ„ç¹”å†…ã®ã‚ªãƒ¼ãƒ—ãƒ³ãªãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸€è¦§ã‚’å–å¾—ã—ã€JSONã¾ãŸã¯CSVãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚
ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã•ã‚ŒãŸãƒªãƒã‚¸ãƒˆãƒªã€ãƒ‰ãƒ©ãƒ•ãƒˆPRã¯é™¤å¤–ã•ã‚Œã€ä½œæˆæ—¥æ™‚ã®å¤ã„é †ã«ã‚½ãƒ¼ãƒˆã•ã‚Œã¾ã™ã€‚

```bash
deno task start src/list-open-prs/index.ts --org=org-name [--output=å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª] [--format=å‡ºåŠ›å½¢å¼]
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

- `--org`: ï¼ˆå¿…é ˆï¼‰GitHubã®çµ„ç¹”å
- `--output`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `.output`ï¼‰
- `--format`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰å‡ºåŠ›å½¢å¼ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `json`ï¼‰
  - `json`: JSONå½¢å¼ã§å‡ºåŠ›
  - `csv`: CSVå½¢å¼ã§å‡ºåŠ›

#### å¿…è¦ãªæ¨©é™

GitHubãƒˆãƒ¼ã‚¯ãƒ³ã«ã¯ä»¥ä¸‹ã®æ¨©é™ãŒå¿…è¦ã§ã™ï¼š
- `repo`: ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™

#### å‡ºåŠ›

æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `{çµ„ç¹”å}-open-prs.{json|csv}` ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

- JSONå½¢å¼ã®å ´åˆ:
```json
{
  "organization": "çµ„ç¹”å",
  "timestamp": "ç”Ÿæˆæ—¥æ™‚",
  "pullRequests": [
    {
      "repository": "ãƒªãƒã‚¸ãƒˆãƒªå",
      "number": "PRç•ªå·",
      "title": "PRã®ã‚¿ã‚¤ãƒˆãƒ«",
      "url": "PRã®URL",
      "createdAt": "ä½œæˆæ—¥æ™‚",
      "updatedAt": "æ›´æ–°æ—¥æ™‚",
      "author": "ä½œæˆè€…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å"
    }
  ]
}
```

- CSVå½¢å¼ã®å ´åˆ:
```csv
repository,number,title,url,createdAt,updatedAt,author
ãƒªãƒã‚¸ãƒˆãƒªå,PRç•ªå·,"PRã®ã‚¿ã‚¤ãƒˆãƒ«",PRã®URL,ä½œæˆæ—¥æ™‚,æ›´æ–°æ—¥æ™‚,ä½œæˆè€…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å
```

ã¾ãŸã€å®Ÿè¡Œçµæœã®ã‚µãƒãƒªãƒ¼ãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã•ã‚Œã¾ã™ï¼š
```
ğŸ“Š ã‚µãƒãƒªãƒ¼:
- çµ„ç¹”: çµ„ç¹”å
- ã‚ªãƒ¼ãƒ—ãƒ³PRæ•°: PRæ•°
- å‡ºåŠ›å½¢å¼: json/csv
- å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
```

## search-files-in-org

çµ„ç¹”å†…ã®å…¨ãƒªãƒã‚¸ãƒˆãƒªã§ç‰¹å®šã®æ‹¡å¼µå­ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰æŒ‡å®šã•ã‚ŒãŸæ–‡å­—åˆ—ã‚’æ¤œç´¢ã—ã€JSONã¾ãŸã¯CSVãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦å‡ºåŠ›ã—ã¾ã™ã€‚
ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã•ã‚ŒãŸãƒªãƒã‚¸ãƒˆãƒªã¯é™¤å¤–ã•ã‚Œã¾ã™ã€‚GitHub Search APIã‚’ä½¿ç”¨ã—ãŸä¸€æ‹¬æ¤œç´¢ã«ã‚ˆã‚Šã€rate limitã‚’åŠ¹ç‡çš„ã«å›é¿ã—ã¾ã™ã€‚

```bash
deno task start src/search-files-in-org/index.ts --org=org-name --query=æ¤œç´¢æ–‡å­—åˆ— [--extensions=æ‹¡å¼µå­] [--output=å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª] [--format=å‡ºåŠ›å½¢å¼]
```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³

- `--org`: ï¼ˆå¿…é ˆï¼‰GitHubã®çµ„ç¹”å
- `--query`: ï¼ˆå¿…é ˆï¼‰æ¤œç´¢ã™ã‚‹æ–‡å­—åˆ—
- `--extensions`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰æ¤œç´¢å¯¾è±¡ã®æ‹¡å¼µå­ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `ts,js,tsx,jsx`ï¼‰
- `--output`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `.output`ï¼‰
- `--format`: ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰å‡ºåŠ›å½¢å¼ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `json`ï¼‰
  - `json`: JSONå½¢å¼ã§å‡ºåŠ›
  - `csv`: CSVå½¢å¼ã§å‡ºåŠ›

#### å¿…è¦ãªæ¨©é™

GitHubãƒˆãƒ¼ã‚¯ãƒ³ã«ã¯ä»¥ä¸‹ã®æ¨©é™ãŒå¿…è¦ã§ã™ï¼š
- `repo`: ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™

#### ä½¿ç”¨ä¾‹

```bash
# TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã§ç‰¹å®šã®é–¢æ•°ã‚’æ¤œç´¢
deno task start src/search-files-in-org/index.ts --org=matsuri-tech --query="useEffect" --extensions="ts,tsx"

# è¤‡æ•°ã®æ‹¡å¼µå­ã§ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œç´¢
deno task start src/search-files-in-org/index.ts --org=matsuri-tech --query="try catch" --extensions="js,ts,jsx,tsx"

# CSVå½¢å¼ã§å‡ºåŠ›
deno task start src/search-files-in-org/index.ts --org=matsuri-tech --query="console.log" --format=csv
```

#### å‡ºåŠ›

æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `{çµ„ç¹”å}-search-results.{json|csv}` ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

- JSONå½¢å¼ã®å ´åˆ:
```json
{
  "organization": "çµ„ç¹”å",
  "query": "æ¤œç´¢ã‚¯ã‚¨ãƒª",
  "extensions": ["å¯¾è±¡æ‹¡å¼µå­"],
  "timestamp": "ç”Ÿæˆæ—¥æ™‚",
  "summary": {
    "totalRepositories": "æ¤œç´¢ã§ãƒ’ãƒƒãƒˆã—ãŸãƒªãƒã‚¸ãƒˆãƒªæ•°",
    "repositoriesWithMatches": "ãƒãƒƒãƒã—ãŸãƒªãƒã‚¸ãƒˆãƒªæ•°",
    "totalMatches": "ç·ãƒãƒƒãƒæ•°",
    "totalFiles": "ãƒãƒƒãƒã—ãŸãƒ•ã‚¡ã‚¤ãƒ«æ•°"
  },
  "results": [
    {
      "repository": "ãƒªãƒã‚¸ãƒˆãƒªå",
      "file": "ãƒ•ã‚¡ã‚¤ãƒ«å",
      "path": "ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹",
      "url": "ãƒ•ã‚¡ã‚¤ãƒ«ã®URL",
      "matches": [
        {
          "lineNumber": "è¡Œç•ªå·",
          "line": "ãƒãƒƒãƒã—ãŸè¡Œã®å†…å®¹",
          "context": ["å‰å¾Œã®æ–‡è„ˆã‚’å«ã‚€è¡Œã®é…åˆ—"]
        }
      ]
    }
  ],
  "errors": [
    {
      "repository": "ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸãƒªãƒã‚¸ãƒˆãƒªå",
      "error": "ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"
    }
  ]
}
```

- CSVå½¢å¼ã®å ´åˆ:
```csv
repository,file,path,url,lineNumber,matchedLine,contextBefore,contextAfter
ãƒªãƒã‚¸ãƒˆãƒªå,ãƒ•ã‚¡ã‚¤ãƒ«å,ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹,ãƒ•ã‚¡ã‚¤ãƒ«ã®URL,è¡Œç•ªå·,"ãƒãƒƒãƒã—ãŸè¡Œ","å‰ã®æ–‡è„ˆ","å¾Œã®æ–‡è„ˆ"
```

#### æ©Ÿèƒ½

- **ä¸€æ‹¬æ¤œç´¢**: GitHub Search APIã‚’ä½¿ç”¨ã—ãŸçµ„ç¹”å…¨ä½“ã®åŠ¹ç‡çš„ãªæ¤œç´¢
- **æ–‡å­—åˆ—æ¤œç´¢**: å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã—ãªã„éƒ¨åˆ†ä¸€è‡´æ¤œç´¢
- **æ‹¡å¼µå­ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼**: æŒ‡å®šã•ã‚ŒãŸæ‹¡å¼µå­ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚’å¯¾è±¡
- **æ–‡è„ˆè¡¨ç¤º**: ãƒãƒƒãƒã—ãŸè¡Œã®å‰å¾Œã®æ–‡è„ˆæƒ…å ±ï¼ˆGitHub APIã®åˆ¶é™å†…ã§ï¼‰
- **è©³ç´°çµ±è¨ˆ**: ãƒªãƒã‚¸ãƒˆãƒªæ¯ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«æ¯ã®ãƒãƒƒãƒæ•°ã‚’è©³ç´°è¡¨ç¤º
- **ã‚¹ãƒãƒ¼ãƒˆè¡¨ç¤º**: ãƒ•ã‚¡ã‚¤ãƒ«æ•°ãŒå¤šã„å ´åˆã¯ä¸Šä½çµæœã®ã¿è¡¨ç¤º
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚¨ãƒ©ãƒ¼ç­‰ã®é©åˆ‡ãªå‡¦ç†
- **Rate limitå¯¾ç­–**: åŠ¹ç‡çš„ãªAPIä½¿ç”¨ã§rate limitå›é¿

## TUI

ãƒ†ã‚­ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆTUIï¼‰ã‚’ä½¿ç”¨ã—ã¦ã€å¯¾è©±çš„ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

```bash
deno task start tui/index.ts
```

### åˆ©ç”¨å¯èƒ½ãªæ©Ÿèƒ½

- **Bulk Create Issues**: è¤‡æ•°ãƒªãƒã‚¸ãƒˆãƒªã¸ã®Issueä¸€æ‹¬ä½œæˆ
- **Bulk Add Labels to Repositories**: è¤‡æ•°ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ãƒ©ãƒ™ãƒ«ä¸€æ‹¬è¿½åŠ 
- **List Dependabot Alerts**: Dependabotã‚¢ãƒ©ãƒ¼ãƒˆã®åé›†ãƒ»åˆ†æ
- **List Open Pull Requests**: ã‚ªãƒ¼ãƒ—ãƒ³PRä¸€è¦§ã®å–å¾—

### ç‰¹å¾´

- **å¯¾è©±çš„å®Ÿè¡Œ**: ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã®ä»£ã‚ã‚Šã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§è¨­å®š
- **ç’°å¢ƒå¤‰æ•°è‡ªå‹•è¨­å®š**: `.env`ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã„å ´åˆã€GitHubãƒˆãƒ¼ã‚¯ãƒ³ã®å…¥åŠ›ã‚’ä¿ƒã™
- **ã‚·ãƒ³ãƒ—ãƒ«ãªæ“ä½œ**: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰é¸æŠã™ã‚‹ã ã‘ã§å®Ÿè¡Œå¯èƒ½

#### æ¤œç´¢æ–¹å¼ã®ç‰¹å¾´

- å¾“æ¥ã®å„ãƒªãƒã‚¸ãƒˆãƒªå€‹åˆ¥æ¤œç´¢ã§ã¯ãªãã€çµ„ç¹”å…¨ä½“ã§ã®ä¸€æ‹¬æ¤œç´¢ã‚’æ¡ç”¨
- GitHub Search APIã®text-matchæ©Ÿèƒ½ã‚’æ´»ç”¨ã—ã¦åŠ¹ç‡çš„ã«ãƒãƒƒãƒæƒ…å ±ã‚’å–å¾—
- æ‹¡å¼µå­æ¯ã«åˆ†å‰²æ¤œç´¢ã‚’è¡Œã„ã€APIã®æ¤œç´¢åˆ¶é™ã«å¯¾å¿œ
- å…¨ä»¶å–å¾—ã‚’ç›®æŒ‡ã—ã€GitHub Search APIã®1000ä»¶åˆ¶é™ã¾ã§å®Œå…¨ã«ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†
- åˆ¶é™ã«é”ã—ãŸå ´åˆã¯è­¦å‘Šè¡¨ç¤ºã¨è©³ç´°çµ±è¨ˆã‚’æä¾›

ã¾ãŸã€å®Ÿè¡Œçµæœã®ã‚µãƒãƒªãƒ¼ãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã•ã‚Œã¾ã™ï¼š
```
ğŸ“Š æ¤œç´¢çµæœã‚µãƒãƒªãƒ¼:
- çµ„ç¹”: çµ„ç¹”å
- æ¤œç´¢ã‚¯ã‚¨ãƒª: "æ¤œç´¢æ–‡å­—åˆ—"
- å¯¾è±¡æ‹¡å¼µå­: .ts, .js, .tsx, .jsx
- æ¤œç´¢ã—ãŸãƒªãƒã‚¸ãƒˆãƒªæ•°: ãƒªãƒã‚¸ãƒˆãƒªæ•°
- ãƒãƒƒãƒã—ãŸãƒªãƒã‚¸ãƒˆãƒªæ•°: ãƒãƒƒãƒã—ãŸãƒªãƒã‚¸ãƒˆãƒªæ•°
- ãƒãƒƒãƒã—ãŸãƒ•ã‚¡ã‚¤ãƒ«æ•°: ãƒ•ã‚¡ã‚¤ãƒ«æ•°
- ç·ãƒãƒƒãƒæ•°: ãƒãƒƒãƒæ•°
- ã‚¨ãƒ©ãƒ¼æ•°: ã‚¨ãƒ©ãƒ¼æ•°
- å‡ºåŠ›å½¢å¼: json/csv
- å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹

ğŸ“‹ ãƒªãƒã‚¸ãƒˆãƒªæ¯ã®ãƒãƒƒãƒè©³ç´°:
  ğŸ“ repo-name-1: 25 ãƒãƒƒãƒ (3 ãƒ•ã‚¡ã‚¤ãƒ«)
    ğŸ“„ src/components/Button.tsx: 15 ãƒãƒƒãƒ
    ğŸ“„ src/utils/helpers.ts: 8 ãƒãƒƒãƒ
    ğŸ“„ src/pages/index.tsx: 2 ãƒãƒƒãƒ
  ğŸ“ repo-name-2: 12 ãƒãƒƒãƒ (2 ãƒ•ã‚¡ã‚¤ãƒ«)
    ğŸ“„ lib/api.js: 10 ãƒãƒƒãƒ
    ğŸ“„ config/settings.js: 2 ãƒãƒƒãƒ

ğŸ“ˆ æ¤œç´¢çµ±è¨ˆ:
  .ts: 150/200 ä»¶ âœ… å®Œå…¨
  .js: 1000/1500 ä»¶ âš ï¸ åˆ¶é™ã‚ã‚Š
  .tsx: 50/50 ä»¶ âœ… å®Œå…¨
  .jsx: 25/25 ä»¶ âœ… å®Œå…¨

âš ï¸  æ³¨æ„: ä¸€éƒ¨ã®æ‹¡å¼µå­ã§GitHub Search APIã®1000ä»¶åˆ¶é™ã«é”ã—ã¾ã—ãŸ
   ã‚ˆã‚Šå¤šãã®çµæœã‚’å–å¾—ã™ã‚‹ã«ã¯ã€æ¤œç´¢ã‚¯ã‚¨ãƒªã‚’ã‚ˆã‚Šå…·ä½“çš„ã«ã—ã¦ãã ã•ã„
```

---

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- [Deno](https://deno.land/) v1.40.0 ä»¥ä¸Š
- GitHub Personal Access Token

### ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã« `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€GitHub Personal Access Tokenã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š

```bash
GH_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

### GitHub Personal Access Tokenã®ä½œæˆ

1. GitHub ã® [Personal Access Tokens](https://github.com/settings/tokens) ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
2. "Generate new token" â†’ "Generate new token (classic)" ã‚’ã‚¯ãƒªãƒƒã‚¯
3. å¿…è¦ãªæ¨©é™ã‚’é¸æŠï¼š
   - `repo`: ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆå…¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆå…±é€šï¼‰
   - `security_events`: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆã®èª­ã¿å–ã‚Šï¼ˆDependabotã‚¢ãƒ©ãƒ¼ãƒˆç”¨ï¼‰
4. ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”Ÿæˆã—ã€`.env` ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨­å®š

### å®Ÿè¡Œæ–¹æ³•

å„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä»¥ä¸‹ã®å½¢å¼ã§å®Ÿè¡Œã§ãã¾ã™ï¼š

```bash
deno task start src/{ã‚¹ã‚¯ãƒªãƒ—ãƒˆå}/index.ts [ã‚ªãƒ—ã‚·ãƒ§ãƒ³...]
```

ä¾‹ï¼š
```bash
# ãƒªãƒã‚¸ãƒˆãƒªä¸€è¦§ã‚’å–å¾—
deno task start src/list-repos-in-org/index.ts --org=your-org

# ã‚ªãƒ¼ãƒ—ãƒ³PRã‚’æ¤œç´¢
deno task start src/list-open-prs/index.ts --org=your-org --format=csv

# ãƒ•ã‚¡ã‚¤ãƒ«å†…æ–‡å­—åˆ—ã‚’æ¤œç´¢
deno task start src/search-files-in-org/index.ts --org=your-org --query="useEffect"

# è¤‡æ•°ãƒªãƒã‚¸ãƒˆãƒªã«Issueã‚’ä¸€æ‹¬ä½œæˆ
deno task start src/bulk-create-issues/index.ts --org=your-org --repos=repo1,repo2 --title="Security Update" --body="Please update dependencies"
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
scripts/
â”œâ”€â”€ src/                           # ãƒ¡ã‚¤ãƒ³ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ list-repos-in-org/         # ãƒªãƒã‚¸ãƒˆãƒªä¸€è¦§å–å¾—
â”‚   â”œâ”€â”€ list-dependabot-alerts/    # Dependabotã‚¢ãƒ©ãƒ¼ãƒˆåˆ†æ
â”‚   â”œâ”€â”€ create-issue.ts            # Issueä½œæˆï¼ˆå˜ä¸€ï¼‰
â”‚   â”œâ”€â”€ bulk-create-issues/        # Issueä¸€æ‹¬ä½œæˆ
â”‚   â”œâ”€â”€ list-renovate-status/      # RenovateçŠ¶æ³ç¢ºèª
â”‚   â”œâ”€â”€ search-actions-in-org/     # GitHub Actionsåˆ†æ
â”‚   â”œâ”€â”€ bulk-add-labels/           # ãƒ©ãƒ™ãƒ«ä¸€æ‹¬è¿½åŠ 
â”‚   â”œâ”€â”€ list-open-prs/             # PRç®¡ç†
â”‚   â””â”€â”€ search-files-in-org/       # ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢
â”œâ”€â”€ tui/                           # ãƒ†ã‚­ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â””â”€â”€ index.ts                   # TUIãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ utils/                         # å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ env.ts                     # ç’°å¢ƒå¤‰æ•°ç®¡ç†
â”œâ”€â”€ .output/                       # å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”œâ”€â”€ deno.json                      # Denoè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ deno.lock                      # ä¾å­˜é–¢ä¿‚ã®ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ README.md                      # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```

